<!DOCTYPE html>
<html lang="en">
   <!-- LOC:HEAD -->
   <head>
      <title>SmileBASIC Source</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width"><!--,maximum-scale=1">-->
      <meta name="rating" content="general">
      <meta name="description" content="New SmileBASIC Source">
      <link data-favicon rel="shortcut icon" href="favicon.ico">
<script>
//DO THIS NOW! Well... maybe the order doesn't matter... oh well
if (location.protocol !== "https:") {
   console.log("Redirecting to https, this is slow, please complain that this should be a server thing");
  location.protocol = "https:";
}
</script>
      <!-- LOC:UIFRAMEWORK -->
      <link rel="stylesheet" href="uikit-3.5.5/css/uikit.min.css?v=1606074887" />
      <script src="uikit-3.5.5/js/uikit.min.js?v=1606074887"></script>
      <script src="uikit-3.5.5/js/uikit-icons.min.js?v=1606074887"></script>
      <!-- LOC:SCRIPT -->
      <script src="libbo.js?v=1606074887"></script>
      <script src="templates.js?v=1606074887"></script>
      <script src="dom.js?v=1606074887"></script>
      <script src="api.js?v=1606074887"></script>
      <script src="commands.js?v=1606074887"></script>
      <script src="index.js?v=1606074887"></script>
      <script src="sbs2-markup/highlight.js?v=1606074887"></script>
      <script src="sbs2-markup/parse.js?v=1606074887"></script>
      <script src="sbs2-markup/render.js?v=1606074887"></script>
      <!-- LOC:STYLE -->
      <link rel="stylesheet" href="index.css?v=1606074887" />
      <script>
function loginEmailSwitch(element)
{
   if(element.checked)
   {
      loginformuser.setAttribute("placeholder", "Email");
      loginformuser.setAttribute("name", "email");
   }
   else
   {
      loginformuser.setAttribute("placeholder", "Username");
      loginformuser.setAttribute("name", "username");
   }
}
//Scripts for templates/THIS file etc
function loglevel(el, replace)
{
   var loglevel = "log_" + replace;
   if(el.className.indexOf(loglevel) < 0)
      el.className += " " + loglevel;
   return loglevel;
}
function selectOptionSetup(el, replace)
{
   if(replace)
   {
      //Clear out the existing
      el.innerHTML = "";
      replace.forEach(x => //for(key in replace)
      {
         var option = document.createElement("option");
         option.textContent = x; //replace[key];
         option.setAttribute("value", x); //key);
         el.appendChild(option);
      });
   }
   return el.value;
}
var ttoic = { 
   "chat" : "commenting", //"@discussion": "commenting",
   "resource" : "file-text", //"@page": "file-text", "@page.resource": "file-text",
   "documentation" : "tag", //"@page.documentation" : "tag",
   "program" : "laptop", //"@page.program" : "laptop",
   "tutorial" : "info", //"@page.tutorial" : "question",
   "category" : "folder",
   "userpage" : "user" //"@page.user" : "user", "@user.page" : "user"
};
function typeToIcon(el, replace)
{
   if(!el.origicon)
      el.origicon = el.getAttribute("uk-icon");
   if(replace !== undefined)
   {
      el.curicon = replace;
      if(replace === false)
      {
         el.removeAttribute("uk-icon");
      }
      else
      {
         el.setAttribute("uk-icon", el.origicon + ";icon: " + 
            (ttoic[replace] || "close"));
      }
   } 
   return el.curicon;
}
function systemToIcon(el, replace)
{
   if(replace !== undefined)
   {
      el.system = replace;

      if(stoic[replace])
      {
         el.querySelector("[data-icon]").setAttribute("data-src", stoic[replace].i);
         el.querySelector("[data-text]").textContent = stoic[replace].t;
      }
   }

   return el.system;
}
function pwcountset(el, replace)
{
   if(replace !== undefined)
   {
      el.textContent = replace;
      if(replace)
         el.parentNode.removeAttribute('hidden');
      else
         el.parentNode.setAttribute("hidden", "");
   }
   return el.textContent;
}
function leftPanePerms(el, replace)
{
   if(replace !== undefined)
   {
      if(replace)
         leftpane.setAttribute("data-permissions", replace.toUpperCase());
      else
         leftpane.removeAttribute("data-permissions");
   }
   return el.textContent;
}
function srcUnhide(el, replace)
{
   if(replace !== undefined)
   {
      if(replace)
      {
         el.removeAttribute("hidden");
         el.src = replace;
      }
      else
      {
         el.setAttribute("hidden", "");
         el.removeAttribute("src");
      }
   }
   return el.src;
}
function simpleAction(el, replace)
{
   if(replace)
   {
      if(!el.simpact)
      {
         el.addEventListener("click", (e) =>
         {
            e.preventDefault();
            el.simpact(el);
         });
      }
      el.simpact = replace;
   }
   return el.simpact;
}
//function simpleAction(el, replace)
//{
//   if(replace)
//   {
//      el.simpact = replace;
//      el.onclick = (e) =>
//      {
//         e.preventDefault();
//         el.simpact(el);
//      };
//   }
//   return el.simpact;
//}
function deferredselect(el, replace)
{
   if(replace)
   {
      //Set the value so the select MIGHT update
      el.value = replace;
      el.setAttribute("data-dv", replace); //This is so we can pull it out later if needed
   }

   //But always return what WE know the value to be
   return el.getAttribute("data-dv"); //el.value;
}
function showdrop(el, show)
{
   var dd = el.nextElementSibling;
   dd.style.width = el.clientWidth + "px";
   dd.style.minHeight = "0px";

   console.log("showdrop ", show);

   if(show)
   {
      UIkit.drop(dd).show();
   }
   else
   {
      el.blur();
      setTimeout(() => 
      {
         UIkit.drop(dd).hide(0);
         el.blur();
      }, 300);
   }
}
function retext(el, attr)
{
   [...el.childNodes].forEach(x =>
   {
      if(x.getAttribute)
         x.textContent = x.getAttribute(attr);
   });
}
function leftpaneclick(event)
{
   if(event.target.hasAttribute("data-contentimageimage"))
   {
      event.target.setAttribute('data-expand','');
   }
   else if(event.target.tagName == "DIV")// && event.target !== postdiscussiontext)
   {
      [...leftpane.querySelectorAll("[data-contentimageimage][data-expand]")]
         .forEach(x => x.removeAttribute('data-expand'));
   }
}
      </script>
   </head>
   <!-- LOC:BODY -->
   <body>
      <div id="website" class="uk-flex uk-flex-column uk-height-1-1">
         <!-- LOC:TOPNAV -->
         <div id="topnav" class="databar uk-flex-middle" uk-navbar>
            <a data-connectionindicator class="uk-flex-none" href="." data-spa>
               <img uk-svg="ratio: 2" data-src="assets/sbs.svg">
            </a>
            <!-- LOC:BREADCRUMBS -->
            <ul id="breadcrumbs" class="uk-breadcrumb uk-margin-remove-top uk-margin-remove-bottom
               bc-collapse uk-margin-small-right uk-margin-small-left">
            </ul>
            <!-- Just a spacer for now... maybe something will go here -->
            <div class="uk-flex-1">
            </div> 
            <!-- The burger side-menu thing-->
            <div class="uk-inline uk-flex-none">
               <a id="rightpanetoggle" uk-icon="icon: menu; ratio: 2" href="#"
                  uk-toggle="target: #rightpane; mode: click;"></a>
               <div id="globalalert" class="uk-label uk-label-danger
                  uk-position-bottom-right noevent" hidden>!</div>
            </div>
         </div>
         <!-- LOC:MAINWINDOW -->
         <div id="mainwindow" class="uk-flex-1 uk-grid-collapse uk-overflow-hidden" uk-grid>
            <!-- LOC:LEFTPANE -->
            <div id="leftpane" class=
              "uk-width-expand uk-flex uk-flex-column uk-height-1-1 uk-overflow-hidden"
               onclick="leftpaneclick(event);" >
               <!-- LOC:MAINCONTENT -->
               <div id="maincontentcontainer" data-hide0 uk-overflow-auto>
                  <div id="maincontentloading" class="uk-text-meta uk-flex uk-flex-middle" hidden>
                     <span class="uk-text-large uk-padding-small">Loading...</span>
                     <div uk-spinner></div>
                  </div> 
                  <!-- class="uk-position-top-left"></div>-->
                  <div id="maincontent">
                  </div>
               </div>
               <div class="uk-flex-none uk-flex" id="maincontentbar">
                  <div id="maincontentinfo" class="uk-flex uk-width-expand">
                  </div>
                  <div id="maincontentbarcontrols" class="uk-flex uk-height-1-1 uk-flex-middle">
                     <a href="#" class="ufk-text-primary" id="moveupmode" data-hide0
                        uk-icon="icon: triangle-up; ratio: 1.2" ufk-tooltip="Expand Chat"></a>
                     <a href="#" class="ufk-text-primary" id="movedownmode" data-hide2
                        uk-icon="icon: triangle-down; ratio: 1.2" ufk-tooltip="Expand Page"></a>
                     <a href="#" class="ufk-text-primary" id="fulldiscussionmode" data-hide0 data-hide1
                        uk-icon="icon: commenting; ratio: 1.2" ufk-tooltip="Full Chat"></a>
                     <a href="#" class="ufk-text-primary" id="fullcontentmode" data-hide2 data-hide1
                        uk-icon="icon: file-text; ratio: 1.1" ufk-tooltip="Full Page"></a>
                  </div>
               </div> 
               <!-- Need separate containers because lazy: one is for user
                  toggle, the other is for page toggle -->
               <div id="discussionuserlistcontainer" data-loginonly class="uk-flex-none">
                  <div id="discussionuserlist" class="uk-flex uk-flex-wrap"></div>
               </div>
               <div id="discussionscontainer" data-hide2 class="uk-flex-1 uk-flex uk-flex-column">
                  <div id="discussions" class="uk-flex-1" uk-overflow-auto> 
                     <!-- Swap the discussions in and out of here -->
                  </div>
                  <div id="postarea" class="uk-inline" data-loginonly>
                     <textarea id="postdiscussiontext" 
                        class="uk-flex-1 uk-textarea uk-width-expand"></textarea>
                     <a href="#" uk-toggle="target: #fileupload" uk-icon="image"
                        class="uk-position-bottom-right" id="discussionimageselect"></a>
                  </div>
               </div>
            </div>
            <!-- LOC:RIGHTPANE -->
            <div id="rightpane" class="uk-width-auto uk-position-relative uk-flex uk-flex-column 
               uk-height-1-1" hidden>
               <!-- LOC:RIGHTPANENAV -->
               <div id="rightpanenav" class="tabnav uk-grid uk-grid-collapse 
                   uk-child-width-expand uk-text-center" 
                uk-switcher="swiping: false;">
      <!-- Shifted over for convenience, want to fit on one line please -->
      <div uk-tooltip="Navigate"><a href="" class="uk-display-block" 
            uk-icon="icon: search; ratio: 2"></a></div>
      <div data-loginonly uk-tooltip="Recent Activity"><a href="" class="uk-display-block" 
            uk-icon="icon: history; ratio: 2"></a></div>
      <div data-loginonly class="uk-inline" uk-tooltip="Notifications">
         <a href="" class="uk-display-block" uk-icon="icon: bell; ratio: 2"></a>
         <div id="watchglobalalert" class="uk-label uk-label-danger 
            uk-position-bottom-right noevent"></div>
      </div>
      <div uk-tooltip="Logs"><a href="" class="uk-display-block" 
            uk-icon="icon: server; ratio: 2"></a></div>
      <div data-loginonly class="uk-inline" uk-tooltip="User">
         <a href="" class="uk-display-block"><img id="navuseravatar" 
            width="40" height="40" class=""></img></a>
      </div>
      <div data-logoutonly uk-tooltip="Login"><a href="" class="uk-display-block"
            uk-icon="icon: user; ratio: 2"></a></div>
               </div>
               <!-- LOC:RIGHTPANECONTENT -->
               <ul id="rightpanecontent" class="uk-switcher uk-flex-1" uk-overflow-auto>
                  <!-- LOC:SEARCH -->
                  <li id="searchpane" class="uk-container uk-margin-large-bottom" uk-margin>
                     <div>
                        <div class="uk-flex uk-flex-middle uk-margin-small-top">
                           <form id="searchform" class="uk-width-expand uk-search uk-search-default">
                              <a href="#" id="searchformicon" class="uk-search-icon-flip" uk-search-icon></a>
                              <input id="searchinput" class="uk-search-input" placeholder="Search...">
                           </form>
                           <a href="" class="uk-margin-small-left uk-flex-none" uk-icon="cog"
                              uk-toggle="#searchconstraints"></a>
                        </div>
                        <div id="searchconstraints" class="uk-padding-small" hidden uk-margin>
                           <div class="uk-flex uk-flex-wrap" uk-margin>
            <div data-tmpl="searchconstraint" data-tmpld=
               '{"data-id":"searchpagesoption", "data-text":"Pages","data-checked":true}'></div>
            <div data-tmpl="searchconstraint" data-tmpld=
               '{"data-id":"searchusersoption", "data-text":"Users","data-checked":true}'></div>
            <div data-tmpl="searchconstraint" data-tmpld=
               '{"data-id":"searchcategoriesoption", "data-text":"Categories","data-checked":true}'></div>
            <div data-tmpl="searchconstraint" data-tmpld=
               '{"data-id":"searchchatoption", "data-text":"Chat","data-checked":false}' hidden></div>
                           </div>
                           <hr>
                           <div class="uk-flex uk-flex-wrap" uk-margin>
                              <label class="uk-margin-right uk-text-nowrap">
                                 <select class="uk-select uk-width-small uk-form-small" id="searchsortoption">
                                    <option value="id">Id</option>
                                    <option value="createDate">Create Date</option>
                                    <option value="editDate">Edit Date</option>
                                 </select>
                                 <span>Sort</span>
                              </label>
                              <label class="uk-margin-right uk-text-nowrap">
                                 <input id="searchreverseoption" type="checkbox" 
                                  class="uk-checkbox" checked>
                                 <span>Reverse</span>
                              </label>
                           </div>
                        </div>
                     </div>
                     <ul uk-accordion="multiple: true" id="searchresultscontainer" 
                        class="uk-margin-small-top lightblock" hidden>
                        <div data-tmpl="searchresultsection" data-tmpld='{"data-text":"Pages"}'
                             id="searchpagesresults"></div>
                        <div data-tmpl="searchresultsection" data-tmpld='{"data-text":"Users"}'
                             id="searchusersresults"></div>
                        <div data-tmpl="searchresultsection" data-tmpld='{"data-text":"Categories"}'
                             id="searchcategoriesresults"></div>
                        <div data-tmpl="searchresultsection" data-tmpld='{"data-text":"Chat"}'
                             id="searchchatresults"></div>
                        <p class="" id="nosearchresults">No results...</p>
                     </ul>
                     <ul id="rightpanecategorytree" class="uk-list lightblock">
                     </ul>
                  </li>
                  <!-- LOC:ACTIVITY -->
                  <li id="pulseparent" class="uk-margin-large-bottom">
                     <span id="rightpaneactivityloading" class="uk-cover" uk-spinner="ratio: 2" hidden></span>
                     <ul id="pulse" class="uk-list uk-list-divider"></ul>
                  </li>
                  <!-- LOC:WATCHES -->
                  <li class="uk-margin-large-bottom">
                     <span id="rightpanewatchesloading" class="uk-cover" uk-spinner="ratio: 2" hidden></span>
                     <ul id="watches" class="uk-list uk-list-divider"></ul>
                  </li>
                  <!-- LOC:LOGS -->
                  <li id="logsparent">
                     <div data-template="logcontainer" id="logs"></div>
                  </li>
                  <!-- LOC:USER -->
                  <li id="userpane">
                     <div class="uk-container" uk-margin>
                        <div id="userdata" class="uk-padding-small" uk-margin>
                           <div class="uk-flex uk-flex-bottom">
                              <a id="userusername" href="" data-spa class="uk-display-inline uk-width-expand">
                                 <h2 class="uk-margin-remove"></h2>
                              </a>
                              <span id="userid" data-userid class="uk-text-meta uk-display-block"></span>
                           </div>
                           <hr>
                           <div uk-margin class="uk-margin-bottom">
                              <a href="" id="userchangeavatar" uk-toggle="target: #fileupload" 
                                 class="uk-display-block">Change Avatar</a>
                              <a href="#" id="userinvalidatesessions" 
                                 class="uk-display-block">Invalidate All Sessions</a>
                              <a href="?p=admin" data-spa data-superonly
                                 class="uk-display-block">Admin Page</a>
                           </div>
                           <hr>
                           <div uk-margin>
                              <h4 class="ufk-text-meta">Device Settings
                                 <a href="#" id="refreshlocaloptions" 
                                    class="uk-align-right uk-text-small">Refresh</a>
                              </h4>
                              <div id="userlocaloptions" class="settings"> </div>
                              <a class="uk-display-block" uk-toggle="#developerlocaloptions">
                                 Developer Options</a>
                              <div id="developerlocaloptions" class="settings" hidden></div>
                              <button id="restoredefaultsettings" 
                                 class="uk-button uk-button-default">Restore Defaults</button>
                           </div>
                           <button id="userlogout" class="uk-button uk-button-default">Logout</button>
                        </div>
                     </div>
                  </li>
                  <!-- LOC:USERNEW -->
                  <li id="userloginpane">
                     <div class="uk-container" uk-margin>
                        <!-- LOC:USERLOGIN -->
                        <form id="loginform" class="uk-padding-small" onsubmit="return false">
                           <fieldset class="uk-fieldset" uk-margin>
                              <legend class="uk-legend">Login</legend>
      <!-- Once again shifted over for convenience -->
      <input class="uk-input" id="loginformuser" name="username" type="text" placeholder="Username" required>
      <input class="uk-input" name="password" type="password" placeholder="Password" required>
      <div class="uk-inline">
      <input type="submit" value="Login" class="uk-button uk-button-primary">
      <label><input type="checkbox" class="ufk-checkbox" data-emailswitch
         onchange="loginEmailSwitch(this)">Email login</label>
      </div>
                           </fieldset>
                        </form>
                        <hr>
                        <!-- LOC:REGISTER -->
                        <ul id="registrationswitcher" class="uk-switcher">
                           <li>
                              <form id="registerform" class="uk-padding-small" onsubmit="return false">
                                 <fieldset class="uk-fieldset" uk-margin>
                                    <legend class="uk-legend">Register</legend>
      <!-- Once again shifted over for convenience -->
      <input class="uk-input" name="username" type="text" placeholder="Username" required>
      <input class="uk-input" name="email" type="email" placeholder="Email" required>
      <input class="uk-input" name="password" type="password" placeholder="Password" required>
      <input class="uk-input" name="password2" type="password" placeholder="Confirm Password" required>
      <div class="uk-inline">
      <input type="submit" value="Register" class="uk-button uk-button-primary">
      </div>
                                 </fieldset>
                              </form>
                           </li>
                           <li>
                              <form id="registerconfirmform" class="uk-padding-small" onsubmit="return false">
                                 <fieldset class="uk-fieldset" uk-margin>
                                    <legend class="uk-legend">Confirm Account</legend>
      <!-- Once again shifted over for convenience -->
      <input class="uk-input" name="confirmationKey" type="text" placeholder="Confirmation Code" required>
      <span class="uk-text-meta uk-display-block">
         You will receive an email with your confirmation code shortly</span>
      <div class="uk-inline">
      <input type="submit" value="Confirm Account" class="uk-button uk-button-primary">
      </div>
                                 </fieldset>
                              </form>
                           </li>
                           <li>
                              <form id="registerresendform" class="uk-padding-small" onsubmit="return false">
                                 <fieldset class="uk-fieldset" uk-margin>
                                    <legend class="uk-legend">Resend Confirmation</legend>
      <!-- Once again shifted over for convenience -->
      <input class="uk-input" name="email" type="email" placeholder="Email" required>
      <span class="uk-text-meta uk-display-block">
         Note: This email is sent automatically at registration</span>
      <div class="uk-inline">
      <input type="submit" value="Resend email" class="uk-button uk-button-primary">
      </div>
                                 </fieldset>
                              </form>
                           </li>
                        </ul>
                        <ul class="uk-tab-bottom uk-flex-center"
                           uk-tab="connect: #registrationswitcher; 
                           animation: uk-animation-slide-right-medium, uk-animation-slide-left-medium">
                           <li><a id="registrationstep1" href="#">Step 1</a></li>
                           <li><a id="registrationstep2" href="#">Step 2</a></li>
                           <li><a id="registrationresend" href="#">Resend Email</a></li>
                        </ul>
                        <!-- LOC:PASSWORDRESET -->
                        <ul id="passwordresetswitcher" class="uk-switcher">
                           <li>
                              <form id="passwordresetform" class="uk-padding-small" onsubmit="return false">
                                 <fieldset class="uk-fieldset" uk-margin>
                                    <legend class="uk-legend">Password Reset</legend>
      <!-- Once again shifted over for convenience -->
      <input class="uk-input" name="email" type="email" placeholder="Account Email" required>
      <div class="uk-inline">
      <input type="submit" value="Send email" class="uk-button uk-button-primary">
      </div>
                                 </fieldset>
                              </form>
                           </li>
                           <li>
                              <form id="passwordresetconfirmform" class="uk-padding-small" onsubmit="return false">
                                 <fieldset class="uk-fieldset" uk-margin>
                                    <legend class="uk-legend">Password Reset Confirm</legend>
      <!-- Once again shifted over for convenience -->
      <input class="uk-input" name="resetKey" type="text" placeholder="Email Code" required>
      <input class="uk-input" name="password" type="password" placeholder="New Password" required>
      <input class="uk-input" name="password2" type="password" placeholder="Confirm New Password" required>
      <span class="uk-text-meta uk-display-block">
         An email was sent with a password reset code; use it here</span>
      <div class="uk-inline">
      <input type="submit" value="Reset Password" class="uk-button uk-button-primary">
      </div>
                                 </fieldset>
                              </form>
                           </li>
                        </ul>
                        <ul class="uk-tab-bottom uk-flex-center"
                           uk-tab="connect: #passwordresetswitcher; 
                           animation: uk-animation-slide-right-medium, uk-animation-slide-left-medium">
                           <li><a id="passwordresetstep1" href="#">Step 1</a></li>
                           <li><a id="passwordresetstep2" href="#">Step 2</a></li>
                        </ul>
                     </div>
                  </li>
               </ul>
               <div id="rightpanefooter" class="databar uk-flex">
                  <span id="rightpanefootername" class=" uk-flex uk-flex-middle noselect">
                     <span class="uk-flex-none" uk-icon="icon: triangle-left; ratio: 0.8"></span>
                     <span class="uk-text-truncate">SmileBASIC Source - 2020</span>
                  </span>
                  <div class="uk-width-expand">
                     <!-- Just a space filler for now, do something with this later? -->
                  </div>
                  <a href="" class="uk-flex-none" uk-toggle="target: #aboutprivacy">About/Privacy</a>
               </div>
            </div>
         </div>
      </div>
      <!-- LOC:MODALS -->
      <div id="modals">
         <!-- LOC:ABOUT -->
         <div id="aboutprivacy" uk-modal>
            <div class="uk-modal-dialog" uk-overflow-auto>
               <button class="uk-modal-close-default" type="button" uk-close></button>
               <div class="uk-modal-header">
                  <h2 class="uk-modal-title">
                     <img uk-svg="ratio: 2.5" data-src="assets/sbs.svg" class="uk-margin-small-right">
                     SmileBASIC Source
                  </h2>
               </div>
               <div id="aboutprivacybody" class="uk-modal-body">
                  <p>
   SmileBASIC Source is a fan website for the SmileBASIC applications made by 
   <a target="_blank" href="https://smileboom.com/en/">SmileBoom</a>. These 
   applications are available on the Nintendo 3DS, Wii U, and Switch, and 
   allow you to create programs in BASIC on those systems. Our main focus is 
   <a target="_blank" href="https://www.petc4.smilebasic.com/?lang=en">
      SmileBasic 4 for Nintendo Switch</a>.
                  </p>
                  <h3 class="uk-heading-divider"><span>Privacy</span></h3>
                  <p>
   We collect your email ONLY for the purposes of identification. We do not
   share any of your information with ANY outside party and do not use it
   ourselves other than for identification. Your avatars are publicly visible
   to anyone, as is your username/nickname, but this is true of all websites
   with public access. Nobody can view your email other than you.
                  </p>
                  <p>
   We track the pages you visit on this website only for your benefit. We do
   not use cookies to track or to sell your usage to outside parties. The
   tracking is mostly for easy access to pages you've previously visited.
                  </p>
                  <h3 class="uk-heading-divider"><span>Technology/Credits</span></h3>
   <p><a target="_blank" href="https://getuikit.com/">UIkit</a></p>
   <p><a target="_blank" href="https://docs.microsoft.com/en-us/aspnet/core/">ASP.NET Core</a></p>
   <p><a target="_blank" href="https://docs.microsoft.com/en-us/ef/">Entity Framework Core</a></p>
   <p><a target="_blank" href="https://swagger.io/">Swagger</a></p>
   <p><a target="_blank" href="https://github.com/randomouscrap98/newsbs">Frontend Repo</a></p>
   <p><a target="_blank" href="https://github.com/randomouscrap98/contentapi">API Repo</a></p>
   <p>And a big thank you to: Yttria, 12me21, MasterR3C0RD, many
   more (please let me know if you want to be in this list)</p>
                  <h3 class="uk-heading-divider"><span>Technical Info</span></h3>
   <dl id="technicalinfo" data-template="technicalinfo" class="uk-description-list uk-text-break">
      <dt>Frontend Release:</dt>
      <dd data-frontendrelease>00053 (2020-11-22T19:54:47Z)</dd>
      <dt>API Version:</dt>
      <dd data-apiversion=".textContent"></dd>
      <dt>EntitySystem Version:</dt>
      <dd data-entitysystemversion=".textContent"></dd>
      <dt>API ROOT:</dt>
      <dd data-apiroot=".textContent"></dd>
   </dl>

                  <h3 class="uk-heading-divider"><span>Contact</span></h3>
   <h4>General contact:</h4>smilebasicsource@gmail.com
   <h4>Domain holder / Website Admin:</h4> Carlos Sanchez / randomous
                  </p>
               </div>
            </div>
         </div>
         <!-- LOC: RAWMODAL -->
         <div id="rawmodal" class="uk-modal-container" uk-modal>
            <div class="uk-modal-dialog">
               <button class="uk-modal-close-default" type="button" uk-close></button>
               <div class="uk-modal-header">
                  <h2 class="uk-modal-title" id="rawmodaltitle"></h2>
               </div>
               <div class="uk-modal-body" uk-overflow-auto>
                  <pre id="rawmodalraw"></pre>
               </div>
            </div>
         </div>
         <!-- LOC: RAWMODAL -->
         <div id="previewmodal" class="uk-modal-container" uk-modal>
            <div class="uk-modal-dialog">
               <button class="uk-modal-close-default" type="button" uk-close></button>
               <div class="uk-modal-header">
                  <h2 class="uk-modal-title" id="previewmodaltitle"></h2>
               </div>
               <div class="uk-modal-body" uk-overflow-auto>
                  <div id="previewmodalpreview" class="content"></div>
               </div>
            </div>
         </div>
         <!-- LOC: FILEUPLOAD -->
         <div id="fileupload" uk-modal>
            <div class="uk-modal-dialog" uk-overflow-auto>
               <button class="uk-modal-close-default" type="button" uk-close></button>
               <div class="uk-modal-header">
                  <h2 class="uk-modal-title">
                     <span uk-icon="icon: album; ratio: 2.5" class="uk-margin-small-right"></span>
                     Image Select
                  </h2>
               </div>
               <div id="fileuploadbody" class="uk-modal-body">
                  <!--<h3 class="uk-heading-divider"><span>Upload</span></h3>-->
                  <div id="fileuploadform" class="uk-placeholder uk-text-center">
                     <span uk-icon="icon: cloud-upload"></span>
                     <span class="uk-text-middle">Drop image or</span>
                     <div uk-form-custom>
                        <input type="file">
                        <span class="uk-link">choose from device</span>
                     </div>
                  </div>
                  <progress id="fileuploadprogress" class="uk-progress" value="0" max="100" hidden></progress>
                  <span class="uk-text-meta uk-display-block">After upload, image appears below</span>
                  <h3 class="uk-heading-divider uk-flex uk-flex-bottom">
                     <span class="uk-width-expand">Select</span>
                     <label class="uk-text-small uk-flex-none">
                        <input id="fileuploadsearchall" 
                           class="uk-checkbox uk-margin-large-left uk-margin-small-right" 
                           type="checkbox">Search All
                     </label>
                  </h3>
                  <div id="fileuploadslideshow" uk-slideshow uk-margin>
                     <ul id="fileuploaditems" class="uk-slideshow-items"></ul>
                     <div><ul id="fileuploadthumbnails" class="uk-thumbnav uk-flex-center" 
                           uk-margin></ul></div>
                     <div uk-margin>
                        <a id="fileuploadnewer" href="#" hidden>Newer</a>
                        <a id="fileuploadolder" class="uk-align-right" href="#" hidden>Older</a>
                     </div>
                     <button id="fileuploadselect" class="uk-button uk-button-primary"
                        uk-toggle="#fileupload">Select</button>
                  </div>
               </div>
            </div>
         </div>
         <div id="commentedit" uk-modal>
            <div class="uk-modal-dialog" uk-overflow-auto>
               <button class="uk-modal-close-default" type="button" uk-close></button>
               <div class="uk-modal-header">
                  <h2 class="uk-modal-title">
                     <span uk-icon="icon: commenting; ratio: 2.5" class="uk-margin-small-right"></span>
                     Comment Info
                  </h2>
               </div>
               <div id="commenteditbody" class="uk-modal-body" uk-margin>
                  <div id="commenteditpreview"></div>
                  <div class="editor" uk-margin>
                     <label><span>Format : </span>
                        <select id="commenteditformat" class="uk-select">
                           <option value="12y">12y</option>
                           <option value="plaintext">plaintext</option>
                           <option value="bbcode">bbcode</option>
                        </select>
                     </label>
                     <textarea id="commentedittext" rows=5 class="uk-width-expand 
                        uk-textarea uk-resize-vertical"></textarea>
                  </div>
                  <div class="controls" uk-margin>
                     <button class="uk-button uk-button-default" id="commenteditshowpreview">Preview</button>
                     <button class="uk-button uk-button-primary" id="commenteditedit">Edit</button>
                     <button class="uk-button uk-button-danger" id="commenteditdelete">Delete</button>
                     <!--<p class="uk-text-meta">Note: you may not have permission
                        to edit or delete every comment</p>-->
                  </div>
                  <div id="commenteditinfo" class="uk-text-meta"></div>
               </div>
            </div>
         </div>
         <div id="permissionexplain" uk-modal>
            <div class="uk-modal-dialog" uk-overflow-auto>
               <button class="uk-modal-close-default" type="button" uk-close></button>
               <div class="uk-modal-header">
                  <h2 class="uk-modal-title">
   <span uk-icon="icon: question; ratio: 2.5" class="uk-margin-small-right"></span>
   About Permissions
                  </h2>
               </div>
               <div class="uk-modal-body" uk-margin>
                  <p>Pages and categories can be assigned permissions to
                  restrict access. Permissions are CRUD (Create, Read, Update,
                  Delete), and can be assigned for "everyone" (uid 0) or per
                  user.</p>
                  <p><b>Create:</b> allows posting INSIDE the thing (comments
                  on pages, pages inside categories)</p>
                  <p><b>Read:</b> allows viewing of the category or page (it
                  will not show up ANYWHERE for people who don't have this
                  permission: activity, search, etc; it basically doesn't exist)</p>
                  <p><b>Update:</b> allows editing of the category or page</p>
                  <p><b>Delete:</b> same as above but for deletion</p>
                  <p>For example, most pages are created with permissions "CR"
                  for uid 0 (everyone). This means everyone can post comments
                  (create) and read the page. To create a private page, remove
                  the "everyone" permission entirely.</p>
                  <p><b>NOTE:</b> "Super" users (admins) have create, update,
                  and delete permissions but NOT read, so they CANNOT read
                  private pages. The owner of the page or category (the
                  "creator") always has all permissions, even if none are
                  specified.</p>
               </div>
            </div>
         </div>
      </div>
      <!-- LOC:TEMPLATES -->
      <template id="templates">

         <li id="log" class="uk-flex uk-text-break">
            <span t-message=".textContent" t-level="data-loglevel" class="uk-width-expand logmessage"></span>
            <time t-time=".textContent"></time>
         </li>

         <ul id="logcontainer" class="uk-list uk-list-divider uk-list-collapse"
            tfunc="UpdateLogs">
         </ul>

         <div id="discussionuser" t-user=".internal(discussionuser)" class="uk-flex-none">
            <img t-avatar=".internal(icon)" width=40>
            <div uk-dropdown="boundary: #website; pos: bottom-left;" class="userdropdown">
               <a t-userlink=".spa()" class="username" t-username=".textContent"></a>
               <div class="uk-flex uk-flex-middle userdata">
                  <span class="userid uk-margin-small-right" t-id=".textContent"></span>
                  <time class="uk-margin-small-right" t-date=".textContent"></time>
                  <span class="usersuper" t-super=".external(show)" uk-icon="star" hidden></span>
               </div>
            </div>
         </div>

         <span id="pageicon" t-page=".internal(pageicon)" t-type=".internal(typeicon)" 
            class="pageicon uk-flex-none uk-flex uk-flex-middle uk-position-relative">
            <img t-thumbnail=".internal(showicon)" class="outlined" hidden width=20>
            <div t-private=".external(show)" class="uk-cover lock" hidden>ðŸ”’</div>
         </span>

         <div id="pageitem" t-page=".internal(pageitem)" class="uk-flex uk-flex-wrap uk-flex-middle
            lightstriped">
            <div tlink="pageicon"></div>
            <a class="uk-width-expand title uk-link-text" t-pagelink=".spa()" t-name=".textContent"></a>
            <time t-createdate=".textContent" class="uk-flex-none uk-text-meta"></time>
            <a class="uk-flex-none uk-flex uk-flex-middle avatar uk-position-relative" t-userlink=".spa()">
               <img t-useravatar=".internal(icon)" width=25>
               <div t-pinned=".external(show)" class="uk-cover pin" hidden>ðŸ“Œ</div>
            </a>
         </div>

         <div id="historyitem" t-id="data-activityid" t-activity=".internal(historyitem)" 
            class="uk-flex uk-flex-middle lightstriped">
            <img t-useravatar=".internal(icon)" width=20 class="uk-flex-none">
            <a t-username=".textContent" t-userlink=".spa()" class="uk-flex-none username"></a>
            <span t-action=".textContent" class="uk-flex-none"></span>
            <a t-pagename=".textContent" t-pagelink=".spa()" 
               class="uk-width-expand uk-text-truncate uk-margin-small-left uk-margin-small-right"></a>
            <time t-date=".textContent" class="uk-text-meta"></time>
         </div>

         <div id="modulemessage" class="uk-flex uk-flex-top uk-text-meta" 
            t-modulemessage=".internal(modulemessage)" t-id="data-messageid">
            <time t-time=".textContent"></time>
            <span class="modulemessage" t-message=".textContent"></span>
         </div>

         <div id="slideshow" t-page=".internal(slideshow_page)" 
            t-pages=".internal(slideshow_pages)" uk-slideshow="animation: slide; ratio: 16:9;
                  autoplay: true; autoplay-interval: 6000; pause-on-hover: true">
            <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1">
               <ul t-images=".internal(slideshow_images)" class="uk-slideshow-items"></ul>
               <a class="uk-position-center-left uk-position-small uk-hidden-hover" 
                  href="#" uk-slidenav-previous uk-slideshow-item="previous"></a>
               <a class="uk-position-center-right uk-position-small uk-hidden-hover" 
                  href="#" uk-slidenav-next uk-slideshow-item="next"></a>
            </div>
            <ul class="uk-slideshow-nav uk-dotnav uk-flex-center uk-margin"></ul>
         </div>

         <img id="slideshowimage" t-image=".src" uk-cover class="slideshowimage">

         <li id="simpleslideshowitem"><div tlink="slideshowimage" thoist></div></li>

         <li id="annotatedslideshowitem">
            <a t-link=".spa()" class="uk-width-expand uk-height-1-1 uk-display-block">
               <div tlink="slideshowimage" thoist></div>
            </a>
            <div class="uk-overlay-primary uk-position-bottom uk-text-center 
                 uk-text-large uk-text-truncate slideshowtext" 
               t-title=".internal(show,textContent)" hidden>
            </div>
         </li>

         <div id="sbhardware" t-system=".internal(sbhardware)" class="uk-flex-none texticon">
            <img t-icon="uk-svg">
            <span t-text=".textContent" class="programsystem"></span>
         </div>

         <svg id="piechart" width="20" height="20" viewbox="0 0 20 20" data-mysvg
            xmlns="http://www.w3.org/2000/svg" t-dataset=".internal(piechart)">
           <circle cx="10" cy="10" r="9.3" fill="none" stroke="#000" stroke-width="1" />
           <g data-pie></g>
           <path fill="none" stroke="#000" stroke-width="1.03" d="
           M10 7.6C10
           7.6 9.24 6.8 8.296 6.8 7.352 6.8 6.4 7.42 6.4 8.692 6.4 9.536 7.068
           10.176 7.068 10.176L10 13.2 12.932 10.176C12.932 10.176 13.6 9.536
           13.6 8.692 13.6 7.42 12.648 6.8 11.704 6.8 10.76 6.8 10 7.6 10
           7.6L10 7.6Z
           "></path>
         </svg>

         <!-- Page controls are SO complex that I want them to be able to
            function even outside any context, so they get their own page
            assignment and pinned/permissions fields, etc -->
         <div id="pagecontrols" t-page=".internal(pagecontrols)" t-pinned t-permissions
            class="pagecontrols uk-flex-none uk-flex hidelogout" data-loginonly>
            <div>
               <a href="#" class="pagecontrol" t-votes=".internal(pagecontrols_votes)">
                  <div tlink="piechart" thoist></div>
               </a>
               <div uk-dropdown="pos: bottom-right; mode: click"
                  class="uk-dropdown uk-padding-small"> 
                  <span class="uk-text-meta">This page is:</span>
                  <div t-vote=".internal(pagecontrols_vote)"
                     t-votefunc=".internal(pagecontrols_votefunc)"
                     class="uk-flex uk-margin-small-top">
                     <a href="#" class="uk-text-center uk-flex-1" data-vote="b">Bad</a>
                     <a href="#" class="uk-text-center uk-flex-1" data-vote="o">OK</a>
                     <a href="#" class="uk-text-center uk-flex-1" data-vote="g">Good</a>
                  </div>
               </div>
               <div class="uk-text-meta uk-text-center" t-votecount=".textContent">0</div>
            </div>
            <div>
               <a href="#" class="pagecontrol" t-watched 
                  t-watchfunc=".internal(pagecontrols_watchfunc)" uk-icon="bell"></a>
               <div class="uk-text-meta uk-text-center" t-watchcount=".textContent">0</div>
            </div>
            <div>
               <a href="#" class="pagecontrol" uk-icon="cog"></a>
               <div uk-dropdown="pos: bottom-right; mode: click" class="uk-dropdown"> 
                  <ul class="uk-list uk-margin-remove-bottom">
                     <!-- Unfortunately, UIkit doesn't handle hidden first list items well -->
                     <li>
                        <a href="#" t-rawaction=".onclick">Raw Data</a></li>
                     <li data-updateonly>
                        <a t-editlink=".spa()">Edit Page</a></li>
                     <li data-deleteonly>
                        <a href="#" t-deleteaction=".onclick">Delete Page</a></li>
                     <li data-superonly data-unpinnedonly>
                        <a href="#" t-pinaction=".onclick">Pin Page</a></li>
                     <li data-superonly data-pinnedonly>
                        <a href="#" t-unpinaction=".onclick">Unpin Page</a></li>
                  </ul>
               </div>
            </div>
         </div>

         <article id="pagecontent" t-content=".render()" t-format
            class="uk-text-break content uk-margin-remove-top"></article>

         <div id="routepage" t-pinned t-permissions t-page=".internal(routepage)"
              class="uk-container uk-margin-top uk-margin-bottom contentpage">
            <div class="pagetitle uk-flex uk-flex-top uk-flex-wrap">
               <h1 class="uk-margin-small-right uk-width-expand" t-title=".textContent"></h1>
               <div tlink="pagecontrols"></div>
            </div>
            <!-- TODO: This needs to be another template just in case -->
            <div data-programcontainer hidden>
               <div tlink="slideshow"></div>
               <div class="uk-flex uk-flex-middle uk-margin-small-left uk-margin-small-right">
                  <div tlink="sbhardware"></div>
                  <!-- this may be something in the future -->
                  <span class="uk-width-expand"></span>
                  <!-- Does THIS need to be a template too? IDK -->
                  <div class="uk-flex-none texticon">
                     <img data-src="assets/key2.svg" uk-svg="ratio: 1.2">
                     <span class="uk-text-large key" t-key=".textContent"></span>
                  </div>
               </div>
            </div>
            <div class="pageblock">
               <div tlink="pagecontent" thoist></div>
            </div>
         </div>

         <div id="routeuser" t-pinned t-permissions t-user=".internal(routeuser)"
            t-userid t-page=".internal(routeuser_page)"
            class="uk-container uk-margin-top uk-margin-bottom contentpage">
            <div class="pageblock">
               <div class="uk-flex-inline">
                  <h1 t-title=".textContent" t-banned
                      class="uk-width-expand uk-margin-small-right"></h1>
                  <div tlink="pagecontrols"></div>
               </div>
               <img t-avatar=".internal(icon)" width=100 class="uk-align-right avatar">
               <div data-nopage hidden>
                  <span>No user page</span>
                  <span data-createuserpage hidden>, <a href="?p=pageedit&type=userpage">Create one</a></span>
               </div>
               <div tlink="pagecontent" thoist></div>
            </div>
            <!-- TODO: Make all this part of template2 -->
            <div data-userpages class="uk-margin-top uk-margin-bottom pageblock">
               <h4 data-title hidden>My Pages:</h4>
            </div>
            <div data-userhistory class="uk-margin-top uk-margin-bottom">
               <h4 data-title hidden>Activity:</h4>
            </div>
         </div>

         <div id="routehome" class="uk-container uk-margin-top uk-margin-bottom">
            <h1 class="pagetitle">SmileBASIC Source</h1>
            <div class="pageblock">
               <p>A community for talking about SmileBASIC, a program that lets you create
               BASIC programs on your Nintendo 3DS, Wii U, and Switch! Open the
               sidebar or <a href="?p=category-0">START HERE</a> to browse!
               We also have an <a href="/12">alternate frontend</a> developed by local user 12, try it out!</p>
               <p>SmileBASIC Source changed websites and databases. The
               original is now hosted at <a href="https://old.smilebasicsource.com">
               old.smilebasicsource.com</a></p>
               <div class="homepageslideshow">
                  <div tlink="slideshow" thoist></div>
               </div>
            </div>
            <!-- TODO: Make activity part of template2 -->
            <div class="" data-homehistory></div>
         </div>

         <div id="routecategory" class="uk-container uk-margin-top uk-margin-bottom"
            t-permissions t-category=".internal(routecategory)">
            <div class="uk-flex">
               <h1 class="uk-width-expand pagetitle uk-margin-small-right" t-title=".textContent"></h1>
               <ul data-loginonly class="pagecontrols uk-flex-none uk-list uk-list-collapse uk-margin-remove">
                  <li>
                     <a href="#" uk-icon="cog"></a>
                     <div uk-dropdown="pos: bottom-right; mode: click" class="uk-dropdown"> 
                        <ul class="uk-list uk-margin-remove-bottom">
                           <!-- Unfortunately, UIkit doesn't handle hidden first list items well -->
                           <li><a href="#" t-rawaction=".onclick">Raw Data</a></li>
                           <li data-updateonly><a t-editlink=".spa()">Edit Category</a></li>
                           <li data-superonly><a t-newlink=".spa()">Add Category</a></li>
                           <li data-deleteonly><a href="#" t-deleteaction=".onclick">Delete Category</a></li>
                           <li data-createonly><a t-newpagelink=".spa()">New Page</a></li>
                        </ul>
                     </div>
                  </li>
               </ul>
            </div>
            <p class="uk-text-meta uk-margin-remove-top" t-description=".internal(show,textContent)" hidden></p>
            <!--TODO: put subcat/etc loading into template itself-->
            <div data-subcats class="lightblock"></div>
            <div data-pages class="uk-margin-top pageblock">
               <p data-nopages class="">
                  <span uk-icon="icon: database" class="uk-margin-small-right"></span>
                  <span>No pages</span>
               </p>
            </div>
         </div>

      </template>
      <template id="templates_old"> <!-- style="display: none">-->
         <div id="error" class="uk-alert-danger uk-text-break" uk-alert>
            <a class="uk-alert-close" uk-close></a>
            <p data-message=".textContent"></p>
         </div>
         <div id="success" class="uk-alert-success uk-text-break" uk-alert>
            <a class="uk-alert-close" uk-close></a>
            <p data-message=".textContent"></p>
         </div>
         <div id="spinner" uk-spinner></div>
         <li id="fupmain"><img data-imgsrc="data-src" width="" height="" alt=""
            class="uk-responsive-height uk-responsive-width uk-align-center"></li> 
         <li id="fupthumb" data-fileid="data-fid" data-number="uk-slideshow-item"><a href="#">
            <img data-imgsrc="src" width="60" alt=""></a></li>
         <!-- PW is the dual pulse-watch element (formatting is nearly identical) -->
         <li id="pw" data-contentid="data-cid">
            <div class="pwnamerow uk-flex uk-flex-middle">
               <span data-type=".typeToIcon" class="pageicon uk-flex-none uk-margin-small-right 
                  uk-flex uk-flex-middle uk-position-relative"
                  uk-icon="ratio: 1.0">
                  <img data-image=".srcUnhide" class="outlined" hidden width=20>
                  <div data-private=".srcUnhide" class="uk-cover lock" hidden>ðŸ”’</div>
               </span>
               <a data-pwlink="href" class="uk-flex-1 uk-text-truncate uk-text-emphasis pwname" 
                  data-spa data-pwname=".textContent"></a>
               <a data-clearcount href="#" class="uk-margin-left" hidden>
                  <span data-pwcount=".pwcountset" class="uk-label uk-label-danger"></span>
               </a>
            </div>
            <div class="uk-flex uk-flex-bottom">
               <span data-nouikit data-pwtime=".textContent"
                  class="uk-flex-1 uk-margin-small-right pw-time nowrap uk-text-meta">Now</span>
               <div class="pw-users uk-flex ufk-flex-center uk-flex-wrap"></div>
            </div>
         </li>
         <!-- Dropdowns HAVE to be inside a uk-inline element! This DOES NOT
              WORK without that!! -->
         <div id="pwuser" class="ufk-inline">
            <img data-useravatar="src" class="" width=20 height=20>
            <div uk-dropdown="boundary: #website; pos: bottom-right;" class="userdropdown">
               <a data-userlink="href" data-spa class="username" data-username=".textContent"></a>
               <table class="uk-table uk-table-divider uk-table-small uk-table-middle">
                  <tr data-comment data-count="0" data-firstdate="" data-lastdate="" 
                     style="display: none"> 
                     <td class="uk-table-shrink"></td>
                     <td width=20><span uk-icon="comment" ></span></td>
                     <td></td>
                  </tr>
                  <tr data-edit data-count="0" data-firstdate="" data-lastdate="" 
                     style="display: none"> 
                     <td></td>
                     <td><span uk-icon="file-edit" ></span></td>
                     <td></td>
                  </tr>
                  <tr data-create data-count="0" data-firstdate="" data-lastdate="" 
                     style="display: none"> 
                     <td></td>
                     <td><span uk-icon="file-text"></span></td>
                     <td></td>
                  </tr>
               </table>
            </div>
         </div>
         <div id="stdcontentinfo" class="uk-flex uk-flex-middle uk-width-expand">
            <!-- That's right, I'm using flex to fix the image offset crap-->
            <a data-spa class="uk-flex-none uk-flex uk-flex-middle" 
               data-createlink="href"><img data-createavatar="src" width=20 height=20></a>
            <time class="uk-text-meta" data-createdate=".textContent"></time>
         </div>
         <!-- ROOT discussion, holds the whole thing? -->
         <div data-nouikit id="discussion" data-discussionid="data-did" data-id="id" class="">
            <div data-loadolder class="uk-margin-small-right uk-text-right">
               <div data-loading uk-spinner="ratio: 0.5" hidden></div>
               <a href="#" data-loadmore class="uk-text-meta">Load older</a>
            </div>
            <p data-nocomments class="uk-text-meta uk-padding-small uk-text-center
               uk-width-expand" hidden>No comments (yet!)</p>
            <!-- A placeholder, so inserting will always have a place to stop searching -->
            <div data-tmpl="messageframe" data-tmpld='{"userid":"0"}' style="display: none">
               <div data-tmpl="singlemessage" data-tmpld='{"messageid":"0"}'>
               </div>
            </div>
         </div>
         <div id="messageframe" data-nouikit data-userid="data-uid" class="uk-flex uk-flex-top">
            <img class="uk-flex-none avatar" data-useravatar="src">
            <div class="messageframemain uk-width-expand">
               <div class="messageframeinfo uk-flex uk-flex-middle">
                  <a data-spa data-userlink="href" class="uk-flex-none username" 
                     data-username=".textContent"></a>
                  <time class="uk-text-meta uk-width-expand uk-text-truncate
                     uk-margin-small-left" data-frametime=".textContent"></time>
               </div>
               <div data-nouikit class="messagelist"> </div>
            </div>
         </div>
         <div id="singlemessage" data-nouikit tabindex="2" data-messageid data-id="id" 
            data-createdate data-editdate class="uk-flex">
            <div data-message=".renderComment" class="uk-width-expand 
               content uk-text-break"></div>
            <a href="#" class="messagecontrol .hover" data-loginonly>?</a>
         </div>
         <li id="breadcrumb">
            <a data-link="href" data-spa data-text=".textContent"
               class=""></a>
         </li>
         <a id="sbslink" data-link="href" data-spa></a>
         <div id="booloption">
            <label class="uk-flex uk-flex-middle">
               <input data-input=".checked" type="checkbox" class="uk-checkbox 
                  uk-flex-none uk-margin-right">
               <span data-text=".textContent" data-name="uk-tooltip"></span>
            </label>
         </div>
         <div id="numberoption">
            <label class="uk-flex uk-flex-middle">
               <input data-input=".value" type="number" data-step="step"
                  class="uk-input uk-margin-small-right uk-width-1-4 uk-flex-none">
               <span data-text=".textContent" data-name="uk-tooltip"></span>
            </label>
         </div>
         <div id="rawoption">
            <label class="uk-flex uk-flex-middle">
               <input data-input=".value" class="uk-input uk-margin-small-right uk-width-1-2
                  uk-flex-none">
               <span data-text=".textContent" data-name="uk-tooltip"></span>
            </label>
         </div>
         <div id="selectoption">
            <label class="uk-flex uk-flex-middle">
               <select data-options=".selectOptionSetup" data-input=".value" 
                  class="uk-select uk-margin-small-right uk-width-1-3 uk-flex-none">
               </select>
               <span data-text=".textContent" data-name="uk-tooltip"></span>
            </label>
         </div>
         <div id="searchresult" class="uk-flex uk-flex-middle">
            <span data-type=".typeToIcon" class="uk-flex-none uk-flex uk-flex-middle
               uk-position-relative pageicon" uk-icon="ratio: 1.0">
               <img data-image=".srcUnhide" class="outlined" hidden width=20>
               <div data-private=".srcUnhide" class="uk-cover lock" hidden>ðŸ”’</div>
            </span>
            <a data-spa data-name=".textContent" data-link="href" 
             class="uk-width-expand uk-margin-small-left uk-margin-small-right"></a>
            <span data-meta=".textContent" class="uk-text-meta nocondensed"></span>
         </div>
         <div id="subcat" class="uk-flex uk-flex-middle">
            <span uk-icon="icon: folder; ratio: 1.0" class="uk-margin-small-right
               uk-flex-none"></span>
            <a data-link="href" data-spa data-name=".textContent"
               class="uk-link-text title uk-text-truncate"></a>
         </div>
         <div id="history" class="pageblock uk-display-block uk-position-relative">
            <div class="historycontainer"> <!-- uk-overflow-auto>-->
            </div>
            <div data-loadolder class="uk-flex uk-flex-right" hidden>
               <div data-loading uk-spinner="ratio: 0.5"></div>
               <a href="#" data-loadmore class="uk-text-meta">Load older</a>
            </div>
         </div>
         <label id="searchconstraint" class="uk-margin-right uk-text-nowrap">
            <input data-checked=".checked" data-id="id" type="checkbox" class="uk-checkbox">
            <span data-text=".textContent"></span>
         </label>
         <li id="searchresultsection" hidden class="uk-open">
            <a class="uk-accordion-title" href="#">
               <span data-text=".textContent"></span> -
               <span data-count=".textContent"></span>
            </a>
            <div data-results class="uk-accordion-content">
            </div>
         </li>
         <div id="minisearch" "uk-inline"> <!-- class="uk-inline">-->
            <input data-search class="uk-search-input" type="search" data-placeholder="placeholder"
             onfocus="showdrop(this, true)" onblur="showdrop(this, false)"
             onclick="showdrop(this, true)">
            <div uk-drop="mode: none" class="uk-card uk-card-default
               uk-margin-remove" data-results uk-overflow-auto>
            </div>
         </div>
         <a id="minisearchresult" class="uk-flex uk-flex-middle hover uk-link-text">
            <img data-image="src" class="uk-flex-none" width=20>
            <span data-name=".textContent" class="uk-width-expand uk-margin-small-left 
               uk-margin-small-right"></span>
         </a>
         <div id="permissionuser" class="uk-flex uk-flex-middle" data-special>
            <img data-image="src" class="uk-flex-none" width=25 height=25>
            <span data-name=".textContent" class="uk-width-small uk-margin-small-left 
               uk-margin-small-right uk-text-truncate"></span>
            <input data-permission data-value=".value" placeholder="CRUD"
                class="uk-margin-small-right myinput uk-flex-none" >
         </div>
         <img id="imageitem" data-id data-src="src">
         <button id="imageselect" class="uk-button uk-button-default"
            data-action=".simpleAction" type="button" uk-toggle="target: #fileupload">Upload / Pick</button>
         <div id="categoryselect">
            <div data-loading uk-spinner></div>
            <!-- This is a SPECIAL select and will ALWAYS have its options
               filled AFTERWARDS, as a result, a special function must be used
               for setting the value-->
            <select class="uk-select" data-name="name" data-value=".deferredselect"></select>
         </div>
         <select id="markupselect" data-name="name" class="uk-select">
            <option value="12y" selected>12y</option>
            <option value="plaintext">plaintext</option>
            <option value="bbcode">bbcode (legacy)</option>
         </select>
         <!-- The order here is the order I want them on the homepage too -->
         <select id="pagetypeselect" data-name="name" class="uk-select">
            <option value="program">Program</option>
            <option value="chat">Chat</option>
            <option value="tutorial">Tutorial</option>
            <option value="documentation">Documentation</option>
            <option value="resource">General Page</option>
            <option value="userpage" hidden>User Page</option>
         </select>
         <div id="youtube">
            <div class="uk-flex uk-flex-middle">
               <a data-link="href" data-title=".textContent" class="uk-text-truncate
                  uk-margin-small-right" target="_blank"></a>
               <!-- This inline SVG is temporary... UIkit is disabled on
                  messages right now -->
               <a href="#" class="uk-flex-none uk-icon" data-showplayer>
                  <svg width="20" height="20" viewBox="0 0 20 20"
                     xmlns="http://www.w3.org/2000/svg"
                     data-svg="youtube"><path
                     d="M15,4.1c1,0.1,2.3,0,3,0.8c0.8,0.8,0.9,2.1,0.9,3.1C19,9.2,19,10.9,19,12c-0.1,1.1,0,2.4-0.5,3.4c-0.5,1.1-1.4,1.5-2.5,1.6
                     c-1.2,0.1-8.6,0.1-11,0c-1.1-0.1-2.4-0.1-3.2-1c-0.7-0.8-0.7-2-0.8-3C1,11.8,1,10.1,1,8.9c0-1.1,0-2.4,0.5-3.4C2,4.5,3,4.3,4.1,4.2
                     C5.3,4.1,12.6,4,15,4.1z
                     M8,7.5v6l5.5-3L8,7.5z"></path></svg>
               </a>
               <a href="#" class="uk-flex-none uk-icon" data-hideplayer hidden>
                  <svg width="20" height="20" viewBox="0 0 20 20"
                     xmlns="http://www.w3.org/2000/svg" data-svg="close"><path
                     fill="none" stroke="#000" stroke-width="1.06" d="M16,16
                     L4,4"></path><path fill="none" stroke="#000"
                     stroke-width="1.06" d="M16,4 L4,16"></path></svg>
               </a>
            </div>
         </div>
         <div id="youtubeplayer" class="uk-margin-small-top">
            <iframe width=480 height=270 allow="autoplay; fullscreen" data-source="src"></iframe> 
         </div>
         <div id="collection" uk-sortable data-name="name" 
            class="uk-margin-small-bottom">
         </div>
         <a id="addeveryone" href="#">Add global permission</a>
         <div id="contentimage" class="uk-flex
            uk-flex-middle"><img data-nouikit data-contentimageimage tabindex="2" data-src="src"></div>
         <div id="collectionitem" class="uk-flex uk-flex-middle uk-card uk-card-default"
            data-inline>
            <div data-item class="uk-width-expand"></div>
            <a href="#" uk-icon="close" class="uk-text-danger uk-flex-none"
      onclick="event.preventDefault();var p=this.parentNode;p.parentNode.removeChild(p);"></a>
         </div>
         <table>
         <tr id="banhistoryitem" class="lightstriped">
            <td><a data-adminlink="href" data-admin=".textContent"></a></td>
            <td><a data-bannedlink="href" data-banned=".textContent"></a></td>
            <td data-type=".textContent"></td>
            <td data-duration=".textContent"></td>
            <td data-message=".textContent" class="uk-text-meta"></td>
            <td data-date=".textContent"></td>
         </tr>
         </table>
         <li id="categorytreenode" class="uk-text-truncate uk-display-block">
            <a data-category=".textContent" data-categorylink="href" data-spa></a>
            <ul class="uk-list" data-nodelist>
            </ul>
         </li>
         <!-- LOC:ROUTES -->
         <div id="routeerror" class="uk-container uk-margin-top uk-margin-bottom">
            <h1>ERROR - <span data-title=".textContent"></span></h1>
            <p data-message=".textContent" class="uk-text-danger"></p>
         </div>
         <div id="routetest" class="uk-container uk-margin-top uk-margin-bottom">
               <!--<div data-tmpl="categoryselect"
                  data-tmpld='{"data-value":503}'></div>-->
               <!--<div data-tmpl="minisearch" data-tmpld='{"data-placeholder":"search or whatever"}'></div>-->
      <button onclick="notifySuccess('Oh wow, look at that!')">Notify suc</button>
      <button onclick="notifySuccess('Oh wow, look at that! This is a message that will absolutely overflow')">Notify suc big</button>
      <button onclick="notifySuccess('i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i i')">Notify suc big</button>
      <button onclick="notifyError('Oh wow, look at that!')">Notify err</button>
      <button
         onclick="notifyError('jkfdls;jkfdsjfdklsfjdkfeirjdkfdkskcmdsfjdkfjdksfjdaklsfjdfdfdklfjdskfdkslfjdskfkdsjfdklsfjdkslfjdkslfjdkfjdskmksdlj')">Notify err</button>
         </div>
         <div id="routecategoryedit" data-leaveprotect class="uk-container uk-margin-top uk-margin-bottom">
            <h1 data-title=".textContent" class="uk-inline"></h1>
            <div>
               <form onsubmit="return false" class="uk-form-stacked pageform lightblock">
   <div class="uk-form-controls" uk-margin>
      <label class="uk-form-label" uk-margin>
         <span>Name:</span>
         <input class="uk-input uk-form-large" name="name">
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Description:</span>
         <textarea rows=3 class="uk-textarea uk-resize-vertical" name="description"></textarea>
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Parent Category:</span>
         <div data-categoryselect name="parentId"></div>
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Allowed Page Types:</span>
         <input class="uk-input" name="values.allowedTypes">
         <p class="uk-text-meta">This isn't used yet but one day might be:
         there are currently no page restrictions per-category on this frontend</p>
      </label>
      <label class="uk-form-label" uk-margin>
         <span class="uk-flex uk-flex-middle">
            <span class="uk-margin-small-right">Permissions:</span> 
            <a href="#" uk-toggle="#permissionexplain" class="uk-flex-none uk-text-primary"
               uk-icon="icon: question; ratio: 0.75">
            </a>
         </span>
         <div data-permissions name="permissions">
         </div>
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Local Supers:</span>
         <div data-localsupers name="localSupers">
         </div>
         <p class="uk-text-meta">Each local super user has edit and delete
          permissions on all pages at any level under this category</p>
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Order (Float value, ascending):</span>
         <input rows=3 class="uk-input uk-resize-vertical" name="values.order"></input>
      </label>
      <input type="submit" value="Submit" class="uk-button uk-button-primary">
   </div>
               </form>
               <p class="uk-text-meta">Note: you may be unable to edit or
               create new categories depending on your permissions.</p>
            </div>
         </div>
         <div id="routepageedit" data-leaveprotect class="uk-container uk-margin-top uk-margin-bottom">
            <h1 data-title=".textContent" class="uk-inline"></h1>
            <div>
               <form onsubmit="return false" class="uk-form-stacked pageform lightblock">
   <div class="uk-form-controls" uk-margin>
      <label data-pagename class="uk-form-label" uk-margin>
         <span>Name:</span>
         <input class="uk-input uk-form-large" name="name" required>
      </label>
      <label data-pagetype class="uk-form-label" uk-margin>
         <span>Page Type:</span>
         <div data-tmpl="pagetypeselect" data-tmpld='{"name":"type"}' required></div>
      </label>
      <label data-pagekey class="uk-form-label" uk-margin>
         <span>Key:</span>
         <input class="uk-input uk-form-large" name="values.key">
      </label>
      <label data-pagesystem class="uk-form-label" uk-margin>
         <span>System:</span>
         <select class="uk-select" name="values.system">
            <option value="3ds">3DS</option>
            <option value="n3ds">New 3DS</option>
            <option value="wiiu">Wii U</option>
            <option value="switch" selected>Switch</option>
         </select>
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Content:</span>
         <textarea rows=15 class="uk-textarea uk-resize-vertical" name="content"></textarea>
         <a href="#" class="uk-block uk-text-right" data-contentimage
            uk-toggle="target: #fileupload">Insert image link</a>
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Markup:</span>
         <div class="uk-flex uk-flex-middle">
            <div data-tmpl="markupselect" data-tmpld='{"name":"values.markupLang"}' 
               class="uk-margin-small-right"></div>
            <button data-preview class="uk-button uk-button-default">Preview</button>
         </div>
      </label>
      <label data-pagecategory class="uk-form-label" uk-margin>
         <span>Parent Category:</span>
         <div data-categoryselect name="parentId"></div>
      </label>
      <label data-pagetagline class="uk-form-label" uk-margin>
         <span>Tagline:</span>
         <input class="uk-input" name="values.tagline">
         <p class="uk-text-meta">A short description of the page, used in listings</p>
      </label>
      <div data-pagethumbnail>
         <label class="uk-form-label" uk-margin>Thumbnail:</label>
         <img class="uk-display-block" data-thumbnail name="values.thumbnail">
         <a href="#" data-thumbnailselect uk-toggle="target: #fileupload">Select</a>
         <a href="#" data-thumbnailremove hidden>Remove</a>
         <p class="uk-text-meta">A small, preferably square image (separate from galleries) to represent your page in listings</p>
      </div>
      <!-- These have to be separate because of image dragging (it activates
           the selector or whatever) -->
      <div data-pageimages>
         <label class="uk-form-label" uk-margin>Image Gallery:</label>
         <div data-imageselect name="values.photos"></div>
         <p class="uk-text-meta">Images of your program/etc, the first one will
         show up in special slideshows like the frontpage gallery/etc.</p>
      </div>
      <label class="uk-form-label" uk-margin>
         <span class="uk-flex uk-flex-middle">
            <span class="uk-margin-small-right">Permissions:</span> 
            <a href="#" uk-toggle="#permissionexplain" class="uk-flex-none uk-text-primary"
               uk-icon="icon: question; ratio: 0.75">
            </a>
         </span>
         <div data-permissions name="permissions"></div>
      </label>
      <label class="uk-form-label" uk-margin>
         <span>Keywords (space separated):</span>
         <input class="uk-input" data-list name="keywords"></input>
      </label>
      <input type="submit" value="Submit" class="uk-button uk-button-primary">
   </div>
               </form>
               <p class="uk-text-meta">Note: you may be unable to edit or
               create new pages depending on your permissions.</p>
            </div>
         </div>
         <div id="routeadmin" data-superonly class="uk-container uk-margin-top uk-margin-bottom">
            <h1 class="pagetitle">Admin Page</h1>
            <form data-banform onsubmit="return false" class="uk-form-stacked lightblock">
      <label class="uk-form-label"> <!-- uk-margin>-->
         <span>User:</span>
         <div data-userselect name="bannedUserId"></div>
      </label>
      <label class="uk-form-label"> <!-- uk-margin>-->
         <span>Ban type:</span>
         <select class="uk-select" name="type" required>
            <option value="public">Public only</option>
            <option value="none">None</option>
         </select>
      </label>
      <label class="uk-form-label"><!-- uk-margin>-->
         <span>Ban Hours:</span>
         <input type="number" min="0" step="0.1" name="expireDate" class="uk-input" required>
      </label>
      <label class="uk-form-label"><!-- uk-margin>-->
         <span>Message:</span>
         <input name="message" class="uk-input" required>
      </label>
               <input type="submit" value="Ban User" class="uk-button uk-button-primary
               uk-margin-small-top">
         <p class="uk-text-meta">Bans can't be deleted or edited, the last added
         ban is the active one. Type "None" is no ban, "Public" is only banned
         from public areas (not private rooms etc)</p>
            </form>
            <div class="lightblock uk-padding-small uk-margin-top
               uk-overflow-auto">
               <h3>Ban history</h3>
               <table data-banhistory class="uk-table uk-table-small">
                  <tr>
                     <th>Admin</th>
                     <th>Banned</th>
                     <th>Type</th>
                     <th>Duration</th>
                     <th>Message</th>
                     <th>Date</th>
                  </tr>
               </table>
               <button data-loadmorebans class="uk-button uk-button-primary">Load More Bans</button>
               <p class="uk-text-meta">History is ordered by latest first,
               "none" types or "instant" durations are usually "unbans"</p>
            </div>
            <!--<hr></hr>-->
         </div>
      </template>
      <!-- LOC:MEMORY -->
      <div id="memory" style="display: none">
         <div id="discussionmemory">
         </div>
      </div>
   </body>
</html>
